{"version":3,"sources":["webpack:///src/components/page/setRule.vue","webpack:///./src/components/page/setRule.vue?a5f9","webpack:///./src/components/page/setRule.vue"],"names":["setRule","methods","delRule","index","item","this","getRuleForm","ruleArr","splice","addSD","push","mean","getCycleType","self","carMsg","then","res","cycleTypeIdShow","i","data","length","cycleTypeIdOption","id","cycleTypeId","value","label","cycleTypeName","catch","err","console","log","saveEditMsg","val","url","baseUrl","feeRuleConfigs","indexNum","startMin","endMin","cycleFee","params","parkingId","feeRuleName","maxFee","$axios","post","status","$message","message","type","cancel","dialogVisible2","getCarType","get","vehicleTypeOptionsShow","vehicleTypeOptions","vehicleType","getParkingId","localStorage","getItem","parkingIdOptions","parkingName","$forceUpdate","momentTime","moment_default","format","momentTime1","parkingIdOptionsShow","feeRuleIdOptionsShow","feeRuleIdOptions","currentPage","total","tableCar","paginationShow","pageSize","detailMsgForm","includeFreeOptinos","dialogVisibleAS","acMsgForm","dialogVisibleEditAS","editMsgForm","dialogVisibleEditAC","editACForm","mounted","page_setRule","render","_vm","_h","$createElement","_c","_self","model","callback","$$v","expression","staticClass","staticStyle","margin-bottom","text-align","attrs","slot","_v","span","width","clearable","$set","_l","key","icon","on","click","position","_e","right","top","$event","float","margin","clear","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/15.7b46c3e44e2c7805339f.js","sourcesContent":["<template>\r\n<div>\r\n  <el-form v-model='getRuleForm'>\r\n    <el-card class='box-card box-card-ex' style='margin-bottom:20px;'>\r\n      <div slot='header' class='clearfix' style='text-align: left'>\r\n        <b>新增收费规则</b>\r\n      </div>\r\n      <div class='box-card-ex'>\r\n        <!-- 内容 -->\r\n        <el-row>\r\n            <el-col :span='6'>\r\n                <el-form-item label='车场名称' >\r\n                      <el-select v-model='getRuleForm.parkingId'  style='width:60%'  clearable>\r\n                          <el-option\r\n                          v-for='item in parkingIdOptions'\r\n                          :key='item.id'\r\n                          :label='item.label'\r\n                          :value='item.value'>\r\n                          </el-option>\r\n                      </el-select>\r\n                   </el-form-item>\r\n              </el-col>\r\n              <el-col :span='2'>\r\n                  &nbsp;\r\n                </el-col>\r\n              <el-col :span='6'>\r\n                  <el-form-item label='收费规则名称' >\r\n                    <el-input v-model='getRuleForm.feeRuleName'  style='width:60%'></el-input>\r\n                  </el-form-item>\r\n                </el-col>\r\n                <el-col :span='4'>\r\n                    <b>添加时段</b>\r\n                    <el-button icon='el-icon-plus' @click='addSD' type='primary'></el-button>\r\n                </el-col>\r\n        </el-row>\r\n        <!-- 第二行 -->\r\n        <div v-for='(item,index) in getRuleForm.ruleArr'>\r\n          <el-row style='position:relative;'>\r\n              <el-col :span='5'>\r\n                <el-form-item label='时长开始 (分钟)'>\r\n                  <el-input v-model='item.startMin' class='sjInput'></el-input>\r\n                </el-form-item>\r\n              </el-col>\r\n              <el-col :span='1'>\r\n                &nbsp;\r\n              </el-col>\r\n              <el-col :span='5'>\r\n                <el-form-item label='时长结束 (分钟)'>\r\n                  <el-input v-model='item.endMin' class='sjInput'></el-input>\r\n                </el-form-item>\r\n              </el-col>\r\n              <el-col :span='1'>\r\n                  &nbsp;\r\n                </el-col>\r\n              <el-col :span='5'>\r\n                <el-form-item label='周期类型'>\r\n                  <el-select v-model='item.cycleTypeId'  style='width:160px;' v-if='cycleTypeIdShow'>\r\n                    <el-option \r\n                    v-for='item in cycleTypeIdOption'\r\n                    :key='item.id'\r\n                    :value='item.value'\r\n                    :label='item.label'>\r\n                    </el-option>\r\n                  </el-select>\r\n                </el-form-item>\r\n              </el-col>\r\n              <el-col :span='1'>\r\n                  &nbsp;\r\n                </el-col>\r\n              <el-col :span='4'>\r\n                <el-form-item label='周期金额(元)'>\r\n                  <el-input v-model='item.cycleFee' class='sjInput'></el-input>\r\n                </el-form-item>\r\n              </el-col>\r\n              <el-col :span='1'>\r\n                  &nbsp;\r\n                </el-col>\r\n                <!-- 删除按钮 -->\r\n                <el-button icon='el-icon-minus' @click='delRule(index,item)' type='danger' style='position:absolute;right:10px;top:0'></el-button>\r\n          </el-row>\r\n        </div>\r\n         <!-- 第三行 -->\r\n         <el-row>\r\n           <el-col :span='6'>\r\n              <el-form-item label='最高金额(元)'>\r\n                <el-input v-model='getRuleForm.maxFee' style='width:60%'></el-input>\r\n              </el-form-item>\r\n           </el-col>\r\n          </el-row>\r\n          <!-- 第四行 按钮行 -->\r\n          <div style='float:right;margin:20px 20% 0 0;'>\r\n              <!-- <el-button class=\"el-button el-button--warning\" style='margin-right:30px;width:80px' @click=''>取消</el-button> -->\r\n            <el-button class=\"el-button el-button--primary\" style='width:80px' @click='saveEditMsg(getRuleForm)'>添加</el-button>\r\n          </div>\r\n          <div style=\"clear:both\"></div>\r\n        </div>\r\n    </el-card>\r\n  </el-form>\r\n\r\n\r\n</div>\r\n</template>\r\n<script>\r\n  import moment from 'moment'\r\n  import qs from 'qs'\r\n  import * as carMsg from '../../api/carMsg'\r\n  export default {\r\n    methods: {\r\n      //产删除周期\r\n      delRule(index,item){\r\n        this.getRuleForm.ruleArr.splice(index,1);\r\n      },\r\n      //新增周期\r\n      addSD(){\r\n        var self=this;\r\n        self.getRuleForm.ruleArr.push(\r\n          {\"mean\":\"添加\"}\r\n        )\r\n      },\r\n      //获取周期类型\r\n      getCycleType(){\r\n        var self=this;\r\n        carMsg.initCycleType().then(res=>{\r\n          self.cycleTypeIdShow=true;\r\n          for(var i=0;i<res.data.data.length;i++){\r\n          self.cycleTypeIdOption[i]={\r\n            id:res.data.data[i].cycleTypeId,\r\n            value:res.data.data[i].cycleTypeId,\r\n            label:res.data.data[i].cycleTypeName,\r\n          }\r\n          }\r\n        }).catch(err=>console.log(err))\r\n      },\r\n      saveEditMsg(val){\r\n        console.log(val)\r\n        var self=this;\r\n        var url=self.baseUrl+\"feeRule/addFeeRule\";\r\n        var feeRuleConfigs=[];\r\n        for(var i=0;i<self.getRuleForm.ruleArr.length;i++){\r\n          feeRuleConfigs[i]={\r\n            \"indexNum\":i+1,\r\n            \"startMin\":self.getRuleForm.ruleArr[i].startMin,\r\n            \"endMin\":self.getRuleForm.ruleArr[i].endMin,\r\n            \"cycleTypeId\":self.getRuleForm.ruleArr[i].cycleTypeId,\r\n            \"cycleFee\":self.getRuleForm.ruleArr[i].cycleFee,\r\n          }\r\n        }\r\n        var params={\r\n          \"parkingId\":val.parkingId,\r\n          \"feeRuleName\":val.feeRuleName,\r\n          \"feeRuleConfigs\":feeRuleConfigs,\r\n          \"maxFee\":!val.maxFee?val.maxFee='0':val.maxFee*=100,\r\n        }\r\n        console.log(params);\r\n\r\n        self.$axios.post(url,params).then(function(res){\r\n          if(res.data.status=='0'){\r\n            self.$message({\r\n            message:res.data.message,\r\n            type:\"success\"\r\n          })\r\n          }else{\r\n          self.$message({\r\n            message:res.data.message,\r\n            type:\"info\"\r\n          })\r\n        }\r\n        }).catch(err=>console.log(err));\r\n      },\r\n    \r\n      cancel(){\r\n        this.dialogVisible2=false;\r\n      },\r\n      getCarType(){\r\n      var self=this;\r\n\t\t\tvar url=self.baseUrl+\"vehicleInfo/initVehicleTypeList\"\r\n\t\t\tself.$axios.get(url).then(function(res){\r\n\t\t\t\tself.vehicleTypeOptionsShow=true;\r\n\t\t\t\tif(res.data.status=='0'){\r\n\t\t\t\t\tfor(var i=0;i<res.data.data.length;i++){\r\n\t\t\t\t\t\tself.vehicleTypeOptions[i]={\r\n\t\t\t\t\t\t\tid:res.data.data[i].id,\r\n\t\t\t\t\t\t\tlabel:res.data.data[i].vehicleType,\r\n\t\t\t\t\t\t\tvalue:res.data.data[i].id,\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}).catch(function(err){\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t})\r\n      },\r\n  \r\n      getParkingId(){\r\n        var self=this;\r\n        carMsg.parkingId(localStorage.getItem('userId')).then(res=>{\r\n          // self.parkingIdOptionsShow=true;\r\n        if(res.data.status=='0'){\r\n\t\t\t\t\tfor(var i=0;i<res.data.data.length;i++){\r\n\t\t\t\t\t\tself.parkingIdOptions[i]={\r\n\t\t\t\t\t\t\tid:res.data.data[i].id,\r\n\t\t\t\t\t\t\tlabel:res.data.data[i].parkingName,\r\n\t\t\t\t\t\t\tvalue:res.data.data[i].id\r\n\t\t\t\t\t\t}\r\n          }\r\n          self.$forceUpdate();\r\n\t\t\t\t}\r\n        }).catch(function(err){\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t})\r\n      },\r\n      momentTime(val){\r\n          return moment(val).format(\"YYYY-MM-DD HH:mm:ss\");\r\n      },\r\n      momentTime1(val){\r\n          return moment(val).format(\"YYYY-MM-DD\");\r\n      },\r\n    },\r\n    data() {\r\n      return {\r\n        cycleTypeIdShow:false,\r\n        cycleTypeIdOption:[],\r\n        getRuleForm:{\r\n          ruleArr:[]\r\n        },\r\n        parkingIdOptions:[],\r\n        parkingIdOptionsShow:false,\r\n        feeRuleIdOptionsShow:false,\r\n        feeRuleIdOptions:[],\r\n        vehicleTypeOptions:[],\r\n        vehicleTypeOptionsShow:false,\r\n        currentPage:1,\r\n        total:0,\r\n        tableCar:[],\r\n        paginationShow:false,\r\n        pageSize:10,\r\n        dialogVisible2:false,\r\n        detailMsgForm:{},\r\n        includeFreeOptinos:[\r\n          {id:1,value:0,label:\"不包含\"},\r\n          {id:2,value:1,label:\"包含\"},\r\n        ],\r\n        dialogVisibleAS:false,\r\n        acMsgForm:{},\r\n        dialogVisibleEditAS:false,\r\n        editMsgForm:{},\r\n        dialogVisibleEditAC:false,\r\n        editACForm:{},\r\n\r\n      }\r\n    },\r\n    mounted:function(){\r\n      var self=this;\r\n      this.getParkingId();\r\n      this.getCycleType();\r\n    }\r\n  }\r\n</script>\r\n<style scoped>\r\n  .sjInput{\r\n    width:100px;\r\n  }\r\n  .clearfix:before,\r\n.clearfix:after{\r\n  display:table;\r\n  content:\"\";\r\n}\r\n.clearfix:after{\r\n  clear:both;\r\n}\r\n.box-card-ex{\r\n  margin-top:15px !important;\r\n}\r\n  .handle-input{\r\n  width:140px;\r\n  display: inline-block;\r\n}\r\n.laeblStyle{\r\n  width:220px;\r\n  text-align:right\r\n}\r\n    .plot{\r\n        margin-bottom: 20px;\r\n        width:100%;\r\n    }\r\n    ._ul{\r\n        list-style: none;\r\n    }\r\n    ._li{\r\n        cursor: pointer;\r\n        margin-left: 20px;\r\n        font-size: 14px;\r\n        color:#606266;\r\n    }\r\n\r\n    .export_btn{\r\n        color:#606266;\r\n    }\r\n    .export_button:hover .export_btn{\r\n        color: #409eff;\r\n    }\r\n    .form-box-horizon {\r\n        display: flex;\r\n        align-items: center;\r\n    }\r\n\r\n    .form-box-horizon .el-form-item {\r\n        width: 150px;\r\n    }\r\n\r\n    .form-box-horizon .el-select {\r\n        width: 100%;\r\n    }\r\n    ._dropdown {\r\n        margin-left: 50px;\r\n        width: 250px;\r\n    }\r\n\r\n    .form-box-1 .el-form-item {\r\n        width: 100%;\r\n    }\r\n\r\n    .form-box-2 .el-form-item {\r\n        width: 25%;\r\n    }\r\n\r\n    .recorder-box {\r\n        display: flex;\r\n    }\r\n\r\n    .recorder-box .el-form-item {\r\n        /*width: 250px;*/\r\n        margin-left: auto;\r\n    }\r\n\r\n    .form-submit-box {\r\n        display: flex;\r\n        flex-direction: row-reverse;\r\n        align-items: center;\r\n    }\r\n\r\n    .form-submit-box .el-button {\r\n        margin-right: 20px;\r\n    }\r\n\r\n    .form-item-box-grey {\r\n        /*background-color: #8c939d;*/\r\n    }\r\n\r\n    .form-item-box {\r\n        border: 1px solid #c8c7cc;\r\n        padding: 20px 10px 10px 10px;\r\n        margin-bottom: 20px;\r\n    }\r\n\r\n    .form-item-title {\r\n        margin-bottom: 20px;\r\n        display: flex;\r\n        align-items: center;\r\n    }\r\n\r\n    .form-item-title .title-text {\r\n        margin-left: 20px;\r\n    }\r\n\r\n    .form-item-title a {\r\n        margin-left: auto;\r\n    }\r\n\r\n    .form-box-sub-title {\r\n        margin-bottom: 10px;\r\n    }\r\n\r\n    .long-label .el-form-item {\r\n        width: 400px;\r\n    }\r\n\r\n    .long-label .el-form-item label {\r\n        width: 150px !important;\r\n    }\r\n\r\n    .long-label .el-form-item .el-form-item__content {\r\n        margin-left: 150px !important;\r\n    }\r\n\r\n    .victim-add-btn-box {\r\n        width: 100%;\r\n        text-align: right;\r\n        margin-bottom: 20px;\r\n    }\r\n\r\n    .victim-add-btn-box .el-button {\r\n\r\n    }\r\n\r\n    .dynamicBox {\r\n        border-bottom: dashed 1px #c8c7cc;\r\n        padding-top: 10px;\r\n        margin-bottom: 10px;\r\n    }\r\n    .dynamicBox1{\r\n        border-bottom: solid 1px #c8c7cc;\r\n        padding-top: 10px;\r\n        margin-bottom: 10px;\r\n    }\r\n\r\n    .el-button-group .el-button:not(:last-child){\r\n        width: 140px;\r\n    }\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/page/setRule.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-form',{model:{value:(_vm.getRuleForm),callback:function ($$v) {_vm.getRuleForm=$$v},expression:\"getRuleForm\"}},[_c('el-card',{staticClass:\"box-card box-card-ex\",staticStyle:{\"margin-bottom\":\"20px\"}},[_c('div',{staticClass:\"clearfix\",staticStyle:{\"text-align\":\"left\"},attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('b',[_vm._v(\"新增收费规则\")])]),_vm._v(\" \"),_c('div',{staticClass:\"box-card-ex\"},[_c('el-row',[_c('el-col',{attrs:{\"span\":6}},[_c('el-form-item',{attrs:{\"label\":\"车场名称\"}},[_c('el-select',{staticStyle:{\"width\":\"60%\"},attrs:{\"clearable\":\"\"},model:{value:(_vm.getRuleForm.parkingId),callback:function ($$v) {_vm.$set(_vm.getRuleForm, \"parkingId\", $$v)},expression:\"getRuleForm.parkingId\"}},_vm._l((_vm.parkingIdOptions),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.label,\"value\":item.value}})}))],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":2}},[_vm._v(\"\\r\\n                   \\r\\n                \")]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":6}},[_c('el-form-item',{attrs:{\"label\":\"收费规则名称\"}},[_c('el-input',{staticStyle:{\"width\":\"60%\"},model:{value:(_vm.getRuleForm.feeRuleName),callback:function ($$v) {_vm.$set(_vm.getRuleForm, \"feeRuleName\", $$v)},expression:\"getRuleForm.feeRuleName\"}})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":4}},[_c('b',[_vm._v(\"添加时段\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"icon\":\"el-icon-plus\",\"type\":\"primary\"},on:{\"click\":_vm.addSD}})],1)],1),_vm._v(\" \"),_vm._l((_vm.getRuleForm.ruleArr),function(item,index){return _c('div',[_c('el-row',{staticStyle:{\"position\":\"relative\"}},[_c('el-col',{attrs:{\"span\":5}},[_c('el-form-item',{attrs:{\"label\":\"时长开始 (分钟)\"}},[_c('el-input',{staticClass:\"sjInput\",model:{value:(item.startMin),callback:function ($$v) {_vm.$set(item, \"startMin\", $$v)},expression:\"item.startMin\"}})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":1}},[_vm._v(\"\\r\\n                 \\r\\n              \")]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":5}},[_c('el-form-item',{attrs:{\"label\":\"时长结束 (分钟)\"}},[_c('el-input',{staticClass:\"sjInput\",model:{value:(item.endMin),callback:function ($$v) {_vm.$set(item, \"endMin\", $$v)},expression:\"item.endMin\"}})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":1}},[_vm._v(\"\\r\\n                   \\r\\n                \")]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":5}},[_c('el-form-item',{attrs:{\"label\":\"周期类型\"}},[(_vm.cycleTypeIdShow)?_c('el-select',{staticStyle:{\"width\":\"160px\"},model:{value:(item.cycleTypeId),callback:function ($$v) {_vm.$set(item, \"cycleTypeId\", $$v)},expression:\"item.cycleTypeId\"}},_vm._l((_vm.cycleTypeIdOption),function(item){return _c('el-option',{key:item.id,attrs:{\"value\":item.value,\"label\":item.label}})})):_vm._e()],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":1}},[_vm._v(\"\\r\\n                   \\r\\n                \")]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":4}},[_c('el-form-item',{attrs:{\"label\":\"周期金额(元)\"}},[_c('el-input',{staticClass:\"sjInput\",model:{value:(item.cycleFee),callback:function ($$v) {_vm.$set(item, \"cycleFee\", $$v)},expression:\"item.cycleFee\"}})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":1}},[_vm._v(\"\\r\\n                   \\r\\n                \")]),_vm._v(\" \"),_c('el-button',{staticStyle:{\"position\":\"absolute\",\"right\":\"10px\",\"top\":\"0\"},attrs:{\"icon\":\"el-icon-minus\",\"type\":\"danger\"},on:{\"click\":function($event){_vm.delRule(index,item)}}})],1)],1)}),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":6}},[_c('el-form-item',{attrs:{\"label\":\"最高金额(元)\"}},[_c('el-input',{staticStyle:{\"width\":\"60%\"},model:{value:(_vm.getRuleForm.maxFee),callback:function ($$v) {_vm.$set(_vm.getRuleForm, \"maxFee\", $$v)},expression:\"getRuleForm.maxFee\"}})],1)],1)],1),_vm._v(\" \"),_c('div',{staticStyle:{\"float\":\"right\",\"margin\":\"20px 20% 0 0\"}},[_c('el-button',{staticClass:\"el-button el-button--primary\",staticStyle:{\"width\":\"80px\"},on:{\"click\":function($event){_vm.saveEditMsg(_vm.getRuleForm)}}},[_vm._v(\"添加\")])],1),_vm._v(\" \"),_c('div',{staticStyle:{\"clear\":\"both\"}})],2)])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4a9b7fe7\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/page/setRule.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4a9b7fe7\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./setRule.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./setRule.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./setRule.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4a9b7fe7\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./setRule.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4a9b7fe7\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/page/setRule.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}