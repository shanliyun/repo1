webpackJsonp([9],{BMB9:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=e("mvHQ"),l=e.n(i),s=e("PJh5"),n=e.n(s),r=(e("mw3O"),{methods:{handleClick:function(t){},getTime:function(){this.tiemVal||this.$message({message:"请选择过车时间!",type:"warning"})},currentChange:function(t){this.getTime();this.currentPage=t;var a={start:this.momentTime(this.tiemVal[0]),end:this.momentTime(this.tiemVal[1]),hasPayed:this.zfVal,plateNum:this.inputCph,current:this.currentPage,size:this.pageSize},e=l()(a);this.axiosMsg("http://58.210.46.54:8000/listGcjlData",e)},handleSizeChange:function(t){this.pageSize=t;this.getTime();var a={start:this.momentTime(this.tiemVal[0]),end:this.momentTime(this.tiemVal[1]),hasPayed:this.zfVal,plateNum:this.inputCph,current:this.currentPage,size:t},e=l()(a);this.axiosMsg("http://58.210.46.54:8000/listGcjlData",e),console.log("每页显示"+t+"条")},axiosMsg:function(t,a){var e=this;this.paginationShow=!0,this.$axios({method:"post",url:t,headers:{"Content-Type":"application/json"},data:a}).then(function(t){e.total=t.data.data.total,e.tableCar=t.data.data.records;for(var a=0;a<t.data.data.records.length;a++)e.tableCar[a].id||(e.tableCar[a].id="XX"),e.tableCar[a].plateColor||(e.tableCar[a].plateColor="XX"),e.tableCar[a].plateColor.toLocaleUpperCase()&&(e.tableCar[a].plateColor="蓝牌"),e.tableCar[a].plateNum||(e.tableCar[a].plateNum="XXX"),e.tableCar[a].paymentPayTime?e.tableCar[a].paymentPayTime=new Date(e.tableCar[a].paymentPayTime).toLocaleString():e.tableCar[a].paymentPayTime="","true"==e.tableCar[a].hasPayed?e.tableCar[a].hasPayed="已支付":"false"==e.tableCar[a].hasPayed&&(e.tableCar[a].hasPayed="未支付"),e.tableCar[a].stationId||(e.tableCar[a].stationId="XX"),e.tableCar[a].rfid||(e.tableCar[a].rfid="XX"),1==e.tableCar[a].pay?e.tableCar[a].pay="已支付":e.tableCar[a].pay="未支付",e.tableCar[a].passingTime?e.tableCar[a].passingTime=new Date(e.tableCar[a].passingTime).toLocaleString():e.tableCar[a].passingTime||(e.tableCar[a].passingTime="");console.log(e.tableCar)}).catch(function(t){console.log(t)})},momentTime:function(t){return n()(t).format("YYYY-MM-DD HH:mm:ss")},getCarMsg:function(){this.axiosMsg();if(this.zfVal){var t={start:this.momentTime(this.tiemVal[0]),end:this.momentTime(this.tiemVal[1]),hasPayed:this.zfVal,plateNum:this.inputCph},a=l()(t);this.axiosMsg("http://58.210.46.54:8000/listGcjlData",a)}else this.$message({message:"请选择支付状态!",type:"warning"})},handleDetailMsg:function(t,a,e){var i=this;console.log(a),this.dialogVisible=!0,this.row=a;var l="http://58.210.46.54:8000/imageReq?serverId="+a.serverId+"&imageId="+a.imgId;this.$axios.get(l).then(function(t){i.imgRul2="data:image/jpg;base64,"+t.data.data.full_image,i.preview=a.id})}},data:function(){return{inputCph:"",paginationShow:!1,tableShow:[],tableCar:[],total:0,currentPage:2,pageSize:10,dialogVisible:!1,row:Object,imgRul2:"",zfVal:"",zfOptions:[{id:1,label:"已支付",value:"true"},{id:2,label:"未支付",value:"false"}],tiemVal:""}},mounted:function(){}}),o={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{},[e("div",{staticStyle:{width:"100%",height:"50px","margin-bottom":"20px"}},[e("div",{staticStyle:{width:"12%",display:"inline-block",float:"left"}},[e("el-input",{attrs:{placeholder:"请输入车牌号"},model:{value:t.inputCph,callback:function(a){t.inputCph=a},expression:"inputCph"}})],1),t._v(" "),e("div",{staticStyle:{display:"inline-block",float:"left","font-size":"16px","line-height":"40px","margin-left":"5%"}},[e("span",[t._v("支付状态  ")]),t._v(" "),e("el-select",{staticStyle:{"max-width":"120px"},attrs:{placeholder:"请选择"},model:{value:t.zfVal,callback:function(a){t.zfVal=a},expression:"zfVal"}},t._l(t.zfOptions,function(t){return e("el-option",{key:t.id,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),e("div",{staticStyle:{display:"inline-block",float:"left","font-size":"16px","line-height":"40px","margin-left":"5%"}},[e("span",[t._v("过车时间  ")]),t._v(" "),e("el-date-picker",{attrs:{type:"datetimerange",align:"right","start-placeholder":"开始日期","end-placeholder":"结束日期","default-time":["12:00:00","08:00:00"]},model:{value:t.tiemVal,callback:function(a){t.tiemVal=a},expression:"tiemVal"}})],1),t._v(" "),e("div",{staticStyle:{float:"left","margin-left":"20px"}},[e("el-button",{attrs:{type:"primary"},on:{click:function(a){t.getCarMsg()}}},[t._v("查询")])],1)]),t._v(" "),e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableCar}},[e("el-table-column",{attrs:{prop:"id",label:"id",width:"80"}}),t._v(" "),e("el-table-column",{attrs:{prop:"plateColor",label:"车型",width:"80"}}),t._v(" "),e("el-table-column",{attrs:{prop:"plateNum",label:"车牌号"}}),t._v(" "),e("el-table-column",{attrs:{prop:"hasPayed",label:"支付状态"}}),t._v(" "),e("el-table-column",{attrs:{prop:"serverName",label:"站点名称"}}),t._v(" "),e("el-table-column",{attrs:{prop:"passingTime",label:"过车时间",width:"200"}}),t._v(" "),e("el-table-column",{attrs:{prop:"rfid",label:"账号"}}),t._v(" "),e("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){t.handleDetailMsg(a.$index,a.row,a)}}},[t._v("详情\r\n          ")])]}}])})],1),t._v(" "),e("el-pagination",{directives:[{name:"show",rawName:"v-show",value:t.paginationShow,expression:"paginationShow"}],staticStyle:{"margin-top":"10px"},attrs:{background:"",layout:"total, sizes, prev, pager, next, jumper",total:t.total,"page-sizes":[5,10,20,30],"page-size":t.pageSize,"current-page":t.currentPage},on:{"size-change":t.handleSizeChange,"current-change":t.currentChange}}),t._v(" "),e("el-dialog",{attrs:{title:"详细信息",visible:t.dialogVisible,customClass:"customWidth","modal-append-to-body":!1},on:{"update:visible":function(a){t.dialogVisible=a}}},[e("div",{staticStyle:{height:"60vh",position:"relative",width:"100%"},attrs:{id:"detailBox"}},[e("div",{staticStyle:{height:"100%"}},[e("div",{staticClass:"fl",staticStyle:{width:"58%",height:"80%","font-size":"24px"}},[e("div",{staticStyle:{width:"60%",height:"60%",margin:"0 auto"}},[e("img",{staticStyle:{width:"480%",height:"100%","z-index":"5"},attrs:{src:t.imgRul2,preview:"preview",id:"imgMsg",alt:"暂无图片"}})])]),t._v(" "),e("div",{staticClass:"fr",staticStyle:{width:"40%",height:"50%","font-size":"24px"}},[e("div",{staticClass:"bd"},[e("div",{staticClass:"fl"},[t._v("id:  ")]),t._v(" "),e("div",{staticClass:"fl"},[t._v(t._s(t.row.id))])]),t._v(" "),e("div",{staticClass:"bd"},[e("div",{staticClass:"fl"},[t._v("支付时间:  ")]),t._v(" "),e("div",{staticClass:"fl"},[t._v(t._s(t.row.paymentPayTime))])]),t._v(" "),e("div",{staticClass:"bd"},[e("div",{staticClass:"fl"},[t._v("车型:")]),t._v(" "),e("div",{staticClass:"fl marginLfet"},[t._v(t._s(t.row.plateColor))])]),t._v(" "),e("div",{staticClass:"bd"},[e("div",{staticClass:"fl"},[t._v("支付状态:")]),t._v(" "),e("div",{staticClass:"fl marginLfet"},[t._v(t._s(t.row.hasPayed))])]),t._v(" "),e("div",{staticClass:"bd"},[e("div",{staticClass:"fl"},[t._v("车牌号:")]),t._v(" "),e("div",{staticClass:"fl marginLfet"},[t._v(t._s(t.row.plateNum))])]),t._v(" "),e("div",{staticClass:"bd"},[e("div",{staticClass:"fl"},[t._v("支付金额:")]),t._v(" "),e("div",{staticClass:"fl marginLfet"},[t._v(t._s(t.row.paymentTollFee))])])])])])])],1)},staticRenderFns:[]};var d=e("VU/8")(r,o,!1,function(t){e("NCRV")},"data-v-74529eea",null);a.default=d.exports},NCRV:function(t,a){}});
//# sourceMappingURL=9.42654bdbb0ea4c37da0c.js.map