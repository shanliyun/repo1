webpackJsonp([13],{Koib:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={data:function(){var e=function(e,t,a){t||a(new Error(e.message))};return{rules:{parkingNo:[{required:!0,message:"车场ID不能为空",trigger:"blur",validator:e}],parkingAddress:[{required:!0,message:"停车详细地址不能为空",trigger:"blur",validator:e}],name:[{required:!0,message:"车场名称不能为空",trigger:"blur",validator:e}],longitude:[{required:!0,message:"经度不能为空",trigger:"blur",validator:e}],latitude:[{required:!0,message:"维度不能为空",trigger:"blur",validator:e}],totalSpace:[{required:!0,message:"总车位数不能为空",trigger:"blur",validator:e}],enterCount:[{required:!0,message:"入口数量不能为空",trigger:"blur",validator:e}],exitCount:[{required:!0,message:"出口数量不能为空",trigger:"blur",validator:e}],cityName:[{required:!0,message:"所属城市不能为空",trigger:"blur",validator:e}],parkingTypeValue:[{required:!0,message:"车场类型不能为空",trigger:"blur",validator:e}],parkingKindValue:[{required:!0,message:"车场种类不能为空",trigger:"blur",validator:e}],Owner:[{required:!0,message:"车场所有人不能为空",trigger:"blur",validator:e}],enterDirection:[{required:!0,message:"入口方向不能为空",trigger:"blur",validator:e}],exitDirection:[{required:!0,message:"出口方向不能为空",trigger:"blur",validator:e}],parkingOnlineValue:[{required:!0,message:"请选择预约方式",trigger:"change",validator:e}]},parkingForm:{},parkingTypeValue:"",parkingTypeOptions:[{id:"0",value:"0",label:"非运营"},{id:"1",value:"1",label:"运营"}],parkingKindValue:"",parkingKindOptions:[{id:"1",value:"1",label:"封闭式"},{id:"2",value:"2",label:"开放式"}],parkingOnlineValue:"",parkingOnlineOptions:[{id:"1",value:"1",label:"是"},{id:"2",value:"0",label:"否"}],enterCount:[],dialogVisibleEnter:!1,enterExitForm:{ztnr:[]},enterCountLabel:[],cacheEnterMsg:[],exitCount:[],dialogVisibleExit:!1,exitForm:{},loading:!1,typeNoOptions:[],enterExitLength:[]}},mounted:function(){},created:function(){this.getTypeOptions()},methods:{handleRegister:function(){for(var e=this,t=[],a=(e.enterCount,e.exitCount,e.exitCount.length,e.enterCount.length,0);a<e.enterExitForm.ztnr.length;a++)t[a]={enterExitType:e.enterExitForm.ztnr[a].jcklx,typeCount:e.enterExitForm.ztnr[a].typeCount,enterExitNo:e.enterExitForm.ztnr[a].enterExitNo,enterExitName:e.enterExitForm.ztnr[a].enterExitName,enterExitLongitude:e.enterExitForm.ztnr[a].enterExitLongitude,enterExitLatitude:e.enterExitForm.ztnr[a].enterExitLatitude,enterExitKind:1};console.log("出入口方向"),console.log(t);var i={userId:localStorage.getItem("userId"),parkingNo:e.parkingForm.parkingNo,parkingName:e.parkingForm.name,longitude:e.parkingForm.longitude,latitude:e.parkingForm.latitude,totalSpace:e.parkingForm.totalSpace,cityName:e.parkingForm.cityName,parkingAddress:e.parkingForm.parkingAddress,parkingKind:e.parkingForm.parkingKindValue,parkingType:e.parkingForm.parkingTypeValue,parkingOwner:e.parkingForm.Owner,onlineReservation:e.parkingForm.parkingOnlineValue,enterExitCount:e.parkingForm.enterExitCount,enterExitInfos:t};e.loading=!0;var r=this.baseUrl+"parkingInfo/add";this.$axios.post(r,i).then(function(t){"0"==t.data.status?(e.loading=!1,e.$message({message:"保存成功!",type:"success"}),e.$router.push("/testMsg")):(e.loading=!1,e.$message({message:t.data.message,type:"error"}))}).catch(function(e){console.log(e)})},handleBlurEnter:function(e){console.log("失去焦点 "+e),this.enterExitForm.ztnr=[];for(var t=0;t<e;t++)this.enterExitForm.ztnr.push({jcklx:"",typeCount:"",enterExitNo:"",enterExitLongitude:"",enterExitLatitude:"",enterExitName:""});this.dialogVisibleEnter=!0},saveEnter:function(){console.log(this.enterExitLength),this.$message({message:"保存成功!",type:"success"}),this.dialogVisibleEnter=!1},saveExit:function(){this.$message({message:"保存成功!",type:"success"}),this.dialogVisibleExit=!1},cancelEnter:function(){this.dialogVisibleEnter=!1},cancelExit:function(){this.dialogVisibleExit=!1},getEnterMsg:function(){"0"!=this.enterCount.length?this.dialogVisibleEnter=!0:this.$message({message:"出入口数量不能为空!",type:"warning"})},getExitMsg:function(){"0"!=this.exitCount.length?this.dialogVisibleExit=!0:this.$message({message:"出口数量不能为空!",type:"warning"})},addMsg:function(){this.enterExitLength.push({"数据":1})},getTypeOptions:function(){var e=this,t=e.baseUrl+"parkingInfo/enterExitType";e.$axios.get(t).then(function(t){for(var a=0;a<t.data.data.length;a++)e.typeNoOptions[a]={id:t.data.data[a].id,value:t.data.data[a].typeNo,label:t.data.data[a].typeName}}).catch(function(e){console.log(e)})},delMsg:function(){this.enterExitLength.pop()}}},r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"login_box"}},[a("div",{staticClass:"login_logo"},[e._v("停车场注册页面")]),e._v(" "),a("div",{staticClass:"login_con"},[a("div",{staticClass:"login_form"},[a("el-form",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],attrs:{model:e.parkingForm,line:!0,rules:e.rules,"element-loading-text":"拼命加载中..."}},[a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"车场ID",prpo:"parkingNo"}},[a("el-input",{staticStyle:{width:"60%"},model:{value:e.parkingForm.parkingNo,callback:function(t){e.$set(e.parkingForm,"parkingNo",t)},expression:"parkingForm.parkingNo"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"停车场详细地址",prpo:"parkingAddress"}},[a("el-input",{staticStyle:{width:"60%"},model:{value:e.parkingForm.parkingAddress,callback:function(t){e.$set(e.parkingForm,"parkingAddress",t)},expression:"parkingForm.parkingAddress"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"车场名称",prop:"name"}},[a("el-input",{staticStyle:{width:"60%"},attrs:{placeholder:"请输入车场名称"},model:{value:e.parkingForm.name,callback:function(t){e.$set(e.parkingForm,"name",t)},expression:"parkingForm.name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"经度坐标",prop:"longitude"}},[a("el-input",{staticStyle:{width:"60%"},attrs:{placeholder:"请输入经度"},model:{value:e.parkingForm.longitude,callback:function(t){e.$set(e.parkingForm,"longitude",t)},expression:"parkingForm.longitude"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"纬度坐标",prop:"latitude"}},[a("el-input",{staticStyle:{width:"60%"},attrs:{placeholder:"请输入纬度"},model:{value:e.parkingForm.latitude,callback:function(t){e.$set(e.parkingForm,"latitude",t)},expression:"parkingForm.latitude"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"总车位数",prop:"totalSpace"}},[a("el-input",{staticStyle:{width:"60%"},attrs:{placeholder:"请输入总车位数"},model:{value:e.parkingForm.totalSpace,callback:function(t){e.$set(e.parkingForm,"totalSpace",t)},expression:"parkingForm.totalSpace"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"车场所有人",prop:"Owner"}},[a("el-input",{staticStyle:{width:"60%"},attrs:{placeholder:"请输入车场所有人"},model:{value:e.parkingForm.Owner,callback:function(t){e.$set(e.parkingForm,"Owner",t)},expression:"parkingForm.Owner"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"是否支持网上预约",prop:"parkingOnlineValue"}},[a("el-select",{staticStyle:{width:"40%"},attrs:{placeholder:"请选择",clearable:""},model:{value:e.parkingForm.parkingOnlineValue,callback:function(t){e.$set(e.parkingForm,"parkingOnlineValue",t)},expression:"parkingForm.parkingOnlineValue"}},e._l(e.parkingOnlineOptions,function(e){return a("el-option",{key:e.id,attrs:{label:e.label,value:e.value}})}))],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"所属城市",prop:"cityName"}},[a("el-input",{staticStyle:{width:"60%"},attrs:{placeholder:"请输入所属城市"},model:{value:e.parkingForm.cityName,callback:function(t){e.$set(e.parkingForm,"cityName",t)},expression:"parkingForm.cityName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"车场类型",prop:"parkingTypeValue"}},[a("el-select",{attrs:{placeholder:"请选择",clearable:""},model:{value:e.parkingForm.parkingTypeValue,callback:function(t){e.$set(e.parkingForm,"parkingTypeValue",t)},expression:"parkingForm.parkingTypeValue"}},e._l(e.parkingTypeOptions,function(e){return a("el-option",{key:e.id,attrs:{label:e.label,value:e.value}})}))],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"车场种类",prop:"parkingKindValue"}},[a("el-select",{attrs:{placeholder:"请选择",clearable:""},model:{value:e.parkingForm.parkingKindValue,callback:function(t){e.$set(e.parkingForm,"parkingKindValue",t)},expression:"parkingForm.parkingKindValue"}},e._l(e.parkingKindOptions,function(e){return a("el-option",{key:e.id,attrs:{label:e.label,value:e.value}})}))],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"出入口数量",prop:"enterExitCount"}},[a("el-input",{staticStyle:{width:"60%"},attrs:{placeholder:"请输入入口数"},on:{blur:function(t){e.handleBlurEnter(e.parkingForm.enterExitCount)}},model:{value:e.parkingForm.enterExitCount,callback:function(t){e.$set(e.parkingForm,"enterExitCount",t)},expression:"parkingForm.enterExitCount"}})],1)],1)],1),e._v(" "),a("div",{staticStyle:{float:"right",margin:"20px 15% 0 0"}},[a("el-button",{staticClass:"el-button el-button--warning",staticStyle:{width:"80px","margin-right":"20px"},attrs:{type:"button"},on:{click:function(t){e.cancelExit()}}},[e._v("取消")]),e._v(" "),a("el-button",{staticClass:"el-button el-button--primary",staticStyle:{width:"80px"},attrs:{type:"button"},on:{click:function(t){e.handleRegister()}}},[e._v("注册")])],1),e._v(" "),a("div",{staticStyle:{clear:"both"}})],1)],1)]),e._v(" "),a("el-dialog",{attrs:{title:"进出口类型",visible:e.dialogVisibleEnter,width:"1000px"},on:{"update:visible":function(t){e.dialogVisibleEnter=t}}},[a("el-form",{attrs:{model:e.enterExitForm}},[e._l(e.enterExitForm.ztnr,function(t,i){return a("div",{key:i,staticStyle:{"margin-bottom":"10px"}},[a("div",{staticClass:"dynamicBox"},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{staticClass:"laeblStyle2",attrs:{label:"进出口ID"}},[a("el-input",{staticClass:"handle-input",model:{value:t.enterExitNo,callback:function(a){e.$set(t,"enterExitNo",a)},expression:"item.enterExitNo"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:1}},[e._v("\n\t\t\t\t\t\t\t\t\t\t \n\t\t\t\t\t\t\t\t\t")]),e._v(" "),a("el-col",{attrs:{span:7}},[a("el-form-item",{staticClass:"laeblStyle",attrs:{label:"进出口类型"}},[a("el-select",{staticClass:"handle-input",model:{value:t.jcklx,callback:function(a){e.$set(t,"jcklx",a)},expression:"item.jcklx"}},e._l(e.typeNoOptions,function(e){return a("el-option",{key:e.id,attrs:{label:e.label,value:e.value}})}))],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"名称"}},[a("el-input",{staticStyle:{width:"80%"},model:{value:t.enterExitName,callback:function(a){e.$set(t,"enterExitName",a)},expression:"item.enterExitName"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{staticClass:"laeblStyle2",attrs:{label:"经度"}},[a("el-input",{staticClass:"handle-input",model:{value:t.enterExitLongitude,callback:function(a){e.$set(t,"enterExitLongitude",a)},expression:"item.enterExitLongitude"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:1}},[e._v("\n\t\t\t\t\t\t\t \n\t\t\t\t\t\t")]),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{staticClass:"laeblStyle",attrs:{label:"纬度"}},[a("el-input",{staticClass:"handle-input",model:{value:t.enterExitLatitude,callback:function(a){e.$set(t,"enterExitLatitude",a)},expression:"item.enterExitLatitude"}})],1)],1)],1)],1)])}),e._v(" "),a("div",{staticStyle:{float:"right",margin:"20px 15% 0 0"}},[a("el-button",{staticClass:"el-button el-button--warning",staticStyle:{width:"80px","margin-right":"20px"},attrs:{type:"button"},on:{click:function(t){e.cancelEnter()}}},[e._v("取消")]),e._v(" "),a("el-button",{staticClass:"el-button el-button--primary",staticStyle:{width:"80px"},attrs:{type:"button"},on:{click:function(t){e.saveEnter()}}},[e._v("保存")])],1),e._v(" "),a("div",{staticStyle:{clear:"both"}})],2)],1)],1)},staticRenderFns:[]};var n=a("VU/8")(i,r,!1,function(e){a("VoYV")},"data-v-59a32d42",null);t.default=n.exports},VoYV:function(e,t){}});
//# sourceMappingURL=13.027accce004c96e91839.js.map